{"version":3,"sources":["webpack:///./examples/dynamic.js"],"names":[],"mappings":"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","file":"dynamic.js","sourcesContent":["import 'rc-tree/assets/index.less';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Tree, { TreeNode } from 'rc-tree';\r\n\r\nfunction generateTreeNodes(treeNode) {\r\n  const arr = [];\r\n  const key = treeNode.props.eventKey;\r\n  for (let i = 0; i < 3; i++) {\r\n    arr.push({ name: `leaf ${key}-${i}`, key: `${key}-${i}` });\r\n  }\r\n  return arr;\r\n}\r\n\r\nfunction setLeaf(treeData, curKey, level) {\r\n  const loopLeaf = (data, lev) => {\r\n    const l = lev - 1;\r\n    data.forEach((item) => {\r\n      if ((item.key.length > curKey.length) ? item.key.indexOf(curKey) !== 0 :\r\n        curKey.indexOf(item.key) !== 0) {\r\n        return;\r\n      }\r\n      if (item.children) {\r\n        loopLeaf(item.children, l);\r\n      } else if (l < 1) {\r\n        item.isLeaf = true;\r\n      }\r\n    });\r\n  };\r\n  loopLeaf(treeData, level + 1);\r\n}\r\n\r\nfunction getNewTreeData(treeData, curKey, child, level) {\r\n  const loop = (data) => {\r\n    if (level < 1 || curKey.length - 3 > level * 2) return;\r\n    data.forEach((item) => {\r\n      if (curKey.indexOf(item.key) === 0) {\r\n        if (item.children) {\r\n          loop(item.children);\r\n        } else {\r\n          item.children = child;\r\n        }\r\n      }\r\n    });\r\n  };\r\n  loop(treeData);\r\n  setLeaf(treeData, curKey, level);\r\n}\r\n\r\nconst Demo = React.createClass({\r\n  propTypes: {},\r\n  getInitialState() {\r\n    return {\r\n      treeData: [],\r\n      checkedKeys: [],\r\n    };\r\n  },\r\n  componentDidMount() {\r\n    setTimeout(() => {\r\n      this.setState({\r\n        treeData: [\r\n          { name: 'pNode 01', key: '0-0' },\r\n          { name: 'pNode 02', key: '0-1' },\r\n          { name: 'pNode 03', key: '0-2', isLeaf: true },\r\n        ],\r\n        checkedKeys: ['0-0'],\r\n      });\r\n    }, 100);\r\n  },\r\n  onSelect(info) {\r\n    console.log('selected', info);\r\n  },\r\n  onCheck(checkedKeys) {\r\n    console.log(checkedKeys);\r\n    this.setState({\r\n      checkedKeys,\r\n    });\r\n  },\r\n  onLoadData(treeNode) {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        const treeData = [...this.state.treeData];\r\n        getNewTreeData(treeData, treeNode.props.eventKey, generateTreeNodes(treeNode), 2);\r\n        this.setState({ treeData });\r\n        resolve();\r\n      }, 500);\r\n    });\r\n  },\r\n  render() {\r\n    const loop = (data) => {\r\n      return data.map((item) => {\r\n        if (item.children) {\r\n          return <TreeNode title={item.name} key={item.key}>{loop(item.children)}</TreeNode>;\r\n        }\r\n        return (\r\n          <TreeNode title={item.name} key={item.key} isLeaf={item.isLeaf}\r\n            disabled={item.key === '0-0-0'}\r\n          />\r\n        );\r\n      });\r\n    };\r\n    const treeNodes = loop(this.state.treeData);\r\n    return (\r\n      <div>\r\n        <h2>dynamic render</h2>\r\n        <Tree\r\n          onSelect={this.onSelect}\r\n          checkable onCheck={this.onCheck} checkedKeys={this.state.checkedKeys}\r\n          loadData={this.onLoadData}\r\n        >\r\n          {treeNodes}\r\n        </Tree>\r\n      </div>\r\n    );\r\n  },\r\n});\r\n\r\nReactDOM.render(<Demo />, document.getElementById('__react-content'));\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./examples/dynamic.js\n **/"],"sourceRoot":""}