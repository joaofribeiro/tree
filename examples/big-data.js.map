{"version":3,"sources":["webpack:///./examples/util.js?975e","webpack:///./examples/big-data.js","webpack:///./examples/big-data-generator.js"],"names":[],"mappings":"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","file":"big-data.js","sourcesContent":["/* eslint no-loop-func: 0*/\r\n\r\nexport function generateData(x = 3, y = 2, z = 1, gData = []) {\r\n  // x：每一级下的节点总数。y：每级节点里有y个节点、存在子节点。z：树的level层级数（0表示一级）\r\n  function _loop(_level, _preKey, _tns) {\r\n    const preKey = _preKey || '0';\r\n    const tns = _tns || gData;\r\n\r\n    const children = [];\r\n    for (let i = 0; i < x; i++) {\r\n      const key = `${preKey}-${i}`;\r\n      tns.push({ title: `${key}-label`, key: `${key}-key` });\r\n      if (i < y) {\r\n        children.push(key);\r\n      }\r\n    }\r\n    if (_level < 0) {\r\n      return tns;\r\n    }\r\n    const __level = _level - 1;\r\n    children.forEach((key, index) => {\r\n      tns[index].children = [];\r\n      return _loop(__level, key, tns[index].children);\r\n    });\r\n  }\r\n  _loop(z);\r\n  return gData;\r\n}\r\nexport function calcTotal(x = 3, y = 2, z = 1) {\r\n  /* eslint no-param-reassign:0*/\r\n  const rec = (n) => n >= 0 ? x * Math.pow(y, n--) + rec(n) : 0;\r\n  return rec(z + 1);\r\n}\r\nconsole.log('总节点数（单个tree）：', calcTotal());\r\n// 性能测试：总节点数超过 2000（z要小）明显感觉慢。z 变大时，递归多，会卡死。\r\n\r\nexport const gData = generateData();\r\n\r\nexport function isInclude(smallArray, bigArray) {\r\n  return smallArray.every((ii, i) => {\r\n    return ii === bigArray[i];\r\n  });\r\n}\r\n// console.log(isInclude(['0', '1'], ['0', '10', '1']));\r\n\r\n\r\n// arr.length === 628, use time: ~20ms\r\nexport function filterParentPosition(arr) {\r\n  const levelObj = {};\r\n  arr.forEach((item) => {\r\n    const posLen = item.split('-').length;\r\n    if (!levelObj[posLen]) {\r\n      levelObj[posLen] = [];\r\n    }\r\n    levelObj[posLen].push(item);\r\n  });\r\n  const levelArr = Object.keys(levelObj).sort();\r\n  for (let i = 0; i < levelArr.length; i++) {\r\n    if (levelArr[i + 1]) {\r\n      levelObj[levelArr[i]].forEach(ii => {\r\n        for (let j = i + 1; j < levelArr.length; j++) {\r\n          levelObj[levelArr[j]].forEach((_i, index) => {\r\n            if (isInclude(ii.split('-'), _i.split('-'))) {\r\n              levelObj[levelArr[j]][index] = null;\r\n            }\r\n          });\r\n          levelObj[levelArr[j]] = levelObj[levelArr[j]].filter(p => p);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  let nArr = [];\r\n  levelArr.forEach(i => {\r\n    nArr = nArr.concat(levelObj[i]);\r\n  });\r\n  return nArr;\r\n}\r\n// console.log(filterParentPosition(\r\n//   ['0-2', '0-3-3', '0-10', '0-10-0', '0-0-1', '0-0', '0-1-1', '0-1']\r\n// ));\r\n\r\n\r\nfunction loopData(data, callback) {\r\n  const loop = (d, level = 0) => {\r\n    d.forEach((item, index) => {\r\n      const pos = `${level}-${index}`;\r\n      if (item.children) {\r\n        loop(item.children, pos);\r\n      }\r\n      callback(item, index, pos);\r\n    });\r\n  };\r\n  loop(data);\r\n}\r\n\r\nfunction spl(str) {\r\n  return str.split('-');\r\n}\r\nfunction splitLen(str) {\r\n  return str.split('-').length;\r\n}\r\n\r\nexport function getFilterExpandedKeys(data, expandedKeys) {\r\n  const expandedPosArr = [];\r\n  loopData(data, (item, index, pos) => {\r\n    if (expandedKeys.indexOf(item.key) > -1) {\r\n      expandedPosArr.push(pos);\r\n    }\r\n  });\r\n  const filterExpandedKeys = [];\r\n  loopData(data, (item, index, pos) => {\r\n    expandedPosArr.forEach(p => {\r\n      if ((splitLen(pos) < splitLen(p)\r\n        && p.indexOf(pos) === 0 || pos === p)\r\n        && filterExpandedKeys.indexOf(item.key) === -1) {\r\n        filterExpandedKeys.push(item.key);\r\n      }\r\n    });\r\n  });\r\n  return filterExpandedKeys;\r\n}\r\n\r\nfunction isSibling(pos, pos1) {\r\n  pos.pop();\r\n  pos1.pop();\r\n  return pos.join(',') === pos1.join(',');\r\n}\r\n\r\nexport function getRadioSelectKeys(data, selectedKeys, key) {\r\n  const res = [];\r\n  const pkObjArr = [];\r\n  const selPkObjArr = [];\r\n  loopData(data, (item, index, pos) => {\r\n    if (selectedKeys.indexOf(item.key) > -1) {\r\n      pkObjArr.push([pos, item.key]);\r\n    }\r\n    if (key && key === item.key) {\r\n      selPkObjArr.push(pos, item.key);\r\n    }\r\n  });\r\n  const lenObj = {};\r\n  const getPosKey = (pos, k) => {\r\n    const posLen = splitLen(pos);\r\n    if (!lenObj[posLen]) {\r\n      lenObj[posLen] = [[pos, k]];\r\n    } else {\r\n      lenObj[posLen].forEach((pkArr, i) => {\r\n        if (isSibling(spl(pkArr[0]), spl(pos))) {\r\n          // 后来覆盖前者\r\n          lenObj[posLen][i] = [pos, k];\r\n        } else if (spl(pkArr[0]) !== spl(pos)) {\r\n          lenObj[posLen].push([pos, k]);\r\n        }\r\n      });\r\n    }\r\n  };\r\n  pkObjArr.forEach((pk) => {\r\n    getPosKey(pk[0], pk[1]);\r\n  });\r\n  if (key) {\r\n    getPosKey(selPkObjArr[0], selPkObjArr[1]);\r\n  }\r\n\r\n  Object.keys(lenObj).forEach((item) => {\r\n    lenObj[item].forEach((i) => {\r\n      if (res.indexOf(i[1]) === -1) {\r\n        res.push(i[1]);\r\n      }\r\n    });\r\n  });\r\n  return res;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./examples/util.js\n **/","import 'rc-tree/assets/index.less';\r\nimport React, { PropTypes } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Tree, { TreeNode } from 'rc-tree';\r\nimport Gen from './big-data-generator';\r\n\r\nconst Demo = React.createClass({\r\n  propTypes: {\r\n    multiple: PropTypes.bool,\r\n  },\r\n  getDefaultProps() {\r\n    return {\r\n    };\r\n  },\r\n  getInitialState() {\r\n    return {\r\n      gData: [],\r\n      expandedKeys: [],\r\n      checkedKeys: [],\r\n      checkedKeys1: [],\r\n      selectedKeys: [],\r\n    };\r\n  },\r\n  componentWillUpdate(nextProps, nextState) {\r\n    // invoked immediately before rendering with new props or state, not for initial 'render'\r\n    // see componentWillReceiveProps if you need to call setState\r\n    // console.log(nextState.gData === this.state.gData);\r\n    if (nextState.gData === this.state.gData) {\r\n      this.notReRender = true;\r\n    } else {\r\n      this.notReRender = false;\r\n    }\r\n  },\r\n  onCheck(checkedKeys) {\r\n    this.setState({\r\n      checkedKeys,\r\n    });\r\n  },\r\n  onCheckStrictly(checkedKeys1, /* extra*/) {\r\n    console.log(arguments);\r\n    this.setState({\r\n      checkedKeys1,\r\n    });\r\n  },\r\n  onSelect(selectedKeys, info) {\r\n    console.log('onSelect', selectedKeys, info);\r\n    this.setState({\r\n      selectedKeys,\r\n    });\r\n  },\r\n  onGen(data) {\r\n    this.setState({\r\n      gData: data,\r\n      expandedKeys: ['0-0-0-key'],\r\n      // checkedKeys: ['0-0-0-0-key', '0-0-1-0-key', '0-1-0-0-key'],\r\n      checkedKeys: ['0-0-0-key'],\r\n      checkedKeys1: ['0-0-0-key'],\r\n      selectedKeys: [],\r\n    });\r\n  },\r\n  render() {\r\n    const loop = data => {\r\n      return data.map((item) => {\r\n        if (item.children) {\r\n          return (<TreeNode key={item.key} title={item.title}>\r\n            {loop(item.children)}\r\n          </TreeNode>);\r\n        }\r\n        return <TreeNode key={item.key} title={item.title}/>;\r\n      });\r\n    };\r\n    // const s = Date.now();\r\n    // const treeNodes = loop(this.state.gData);\r\n    let treeNodes;\r\n    if (this.treeNodes && this.notReRender) {\r\n      treeNodes = this.treeNodes;\r\n    } else {\r\n      treeNodes = loop(this.state.gData);\r\n      this.treeNodes = treeNodes;\r\n    }\r\n    // console.log(Date.now()-s);\r\n    return (<div style={{ padding: '0 20px' }}>\r\n      <Gen onGen={this.onGen} />\r\n      <div style={{ border: '1px solid red', width: 700, padding: 10 }}>\r\n        <h5 style={{ margin: 10 }}>大数据量下优化建议：</h5>\r\n        初始展开的节点少，向dom中插入节点就会少，速度更快。 <br />\r\n        treeNodes 总数据量尽量少变化，缓存并复用计算出的 treeNodes，可在 componentWillUpdate 等时机做判断。 <br />\r\n      </div>\r\n      {this.state.gData.length ? <div style={{ display: 'flex' }}>\r\n        <div style={{ marginRight: 20 }}>\r\n          <h3>normal check</h3>\r\n          <Tree\r\n            checkable multiple={this.props.multiple}\r\n            defaultExpandedKeys={this.state.expandedKeys}\r\n            onCheck={this.onCheck} checkedKeys={this.state.checkedKeys}\r\n            onSelect={this.onSelect} selectedKeys={this.state.selectedKeys}\r\n          >\r\n            {treeNodes}\r\n          </Tree>\r\n        </div>\r\n        <div>\r\n          <h3>checkStrictly</h3>\r\n          <Tree\r\n            checkable checkStrictly multiple={this.props.multiple}\r\n            defaultExpandedKeys={this.state.expandedKeys}\r\n            onCheck={this.onCheckStrictly} checkedKeys={this.state.checkedKeys1}\r\n            onSelect={this.onSelect} selectedKeys={this.state.selectedKeys}\r\n          >\r\n            {treeNodes}\r\n          </Tree>\r\n        </div>\r\n      </div> : null}\r\n    </div>);\r\n  },\r\n});\r\n\r\nReactDOM.render(<Demo />, document.getElementById('__react-content'));\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./examples/big-data.js\n **/","import React, { PropTypes } from 'react';\r\nimport { generateData, calcTotal } from './util';\r\n\r\nconst Gen = React.createClass({\r\n  propTypes: {\r\n    onGen: PropTypes.func,\r\n    x: PropTypes.number,\r\n    y: PropTypes.number,\r\n    z: PropTypes.number,\r\n  },\r\n  getDefaultProps() {\r\n    return {\r\n      onGen: () => {},\r\n      x: 20,\r\n      y: 18,\r\n      z: 1,\r\n    };\r\n  },\r\n  getInitialState() {\r\n    return {\r\n      nums: '',\r\n    };\r\n  },\r\n  componentDidMount() {\r\n    const vals = this.getVals();\r\n    this.props.onGen(generateData(vals.x, vals.y, vals.z));\r\n  },\r\n  onGen(e) {\r\n    e.preventDefault();\r\n    const vals = this.getVals();\r\n    this.props.onGen(generateData(vals.x, vals.y, vals.z));\r\n    this.setState({\r\n      nums: calcTotal(vals.x, vals.y, vals.z),\r\n    });\r\n  },\r\n  getVals() {\r\n    return {\r\n      x: parseInt(this.refs.x.value, 10),\r\n      y: parseInt(this.refs.y.value, 10),\r\n      z: parseInt(this.refs.z.value, 10),\r\n    };\r\n  },\r\n  render() {\r\n    const { x, y, z } = this.props;\r\n    return (<div style={{ padding: '0 20px' }}>\r\n      <h2>big data generator</h2>\r\n      <form onSubmit={this.onGen}>\r\n        <span style={{ marginRight: 10 }}>\r\n          x: <input ref=\"x\" defaultValue={x} type=\"number\" min=\"1\" required style={{ width: 50 }} />\r\n        </span>\r\n        <span style={{ marginRight: 10 }}>\r\n          y: <input ref=\"y\" defaultValue={y} type=\"number\" min=\"1\" required style={{ width: 50 }} />\r\n        </span>\r\n        <span style={{ marginRight: 10 }}>\r\n          z: <input ref=\"z\" defaultValue={z} type=\"number\" min=\"1\" required style={{ width: 50 }} />\r\n        </span>\r\n        <button type=\"submit\">Generate</button>\r\n        <p>total nodes: {this.state.nums || calcTotal(x, y, z)}</p>\r\n      </form>\r\n      <p style={{ fontSize: 12 }}>\r\n        x：每一级下的节点总数。y：每级节点里有y个节点、存在子节点。z：树的level层级数（0表示一级）\r\n      </p>\r\n    </div>);\r\n  },\r\n});\r\nexport default Gen;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./examples/big-data-generator.js\n **/"],"sourceRoot":""}